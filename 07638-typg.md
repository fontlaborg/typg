# Extension Plan: Typg + Differentiable Variable Fonts

## Objective
Enhance font discovery and analysis in `typg` by indexing and querying the mathematical "responsiveness" (support functions) of variable fonts.

## Implementation Phases

### 1. Interpolation Signature Analysis
- Add a "Variation Analysis" module to `typg-core` that parses the `gvar` table and extracts support function signatures.
- Characterize axes as "Linear," "Piecewise," or "Non-perceptual" based on their support function densities.

### 2. Search & Filter Extensions
- Allow users to query for fonts based on interpolation behavior.
  - Example: `find font --has-axis wght --variation-type piecewise`
  - Example: `find font --min-deltas 50` (to find fonts with high geometric detail in variations).

### 3. Capability Metadata
- Index fonts that support "Canonical Normalization" as defined in the paper.
- Tag fonts as "Differentiable-Ready" based on point-count stability across the entire variation space.

### 4. Visualizing Variation Space
- Use the differentiable interpolation logic to generate "heatmaps" of geometric change for the `typg` search preview, showing where the font changes most significantly.

## Success Criteria
- [ ] Index support function metadata for the entire `test-fonts` corpus.
- [ ] Implement at least 3 new search filters related to variable font interpolation characteristics.
